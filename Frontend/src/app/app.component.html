<!-- Updated app.component.html -->
<div class="container-fluid">
  <div class="row flex-nowrap min-vh-100">
    <!-- Sidebar Navigation -->
    <div class="sidebar" [ngClass]="{'expanded': !sidebarCollapsed, 'collapsed': sidebarCollapsed,
                                    'bg-dark': (isDarkMode$ | async), 'bg-light': !(isDarkMode$ | async)}">
      <div class="d-flex flex-column align-items-center min-vh-100 py-3"
           [ngClass]="(isDarkMode$ | async) ? 'text-white' : 'text-dark'">

        <!-- Header with title and toggle button -->
        <div class="sidebar-header d-flex align-items-center w-100 mb-4"
             [ngClass]="{'justify-content-between px-3': !sidebarCollapsed, 'justify-content-center px-0': sidebarCollapsed}">
          <span class="fs-5 title" [ngClass]="{'d-none': sidebarCollapsed}">Graph Modeler</span>

          <!-- Toggle button -->
          <button *ngIf="isBrowser"
                  class="btn rounded-circle p-1 sidebar-toggle"
                  [ngClass]="(isDarkMode$ | async) ? 'btn-outline-light' : 'btn-outline-dark'"
                  style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;"
                  (click)="toggleSidebar()">
            <i class="bi" [ngClass]="sidebarCollapsed ? 'bi-chevron-right' : 'bi-chevron-left'"></i>
          </button>
        </div>

        <!-- Theme toggle button -->
        <button *ngIf="isBrowser"
                [ngClass]="(isDarkMode$ | async) ? 'btn-outline-light' : 'btn-outline-dark'"
                class="btn theme-toggle"
                (click)="toggleTheme()">
          <i class="bi" [ngClass]="(isDarkMode$ | async) ? 'bi-sun' : 'bi-moon'"></i>
          <span>{{ (isDarkMode$ | async) ? 'Light Mode' : 'Dark Mode' }}</span>
        </button>

        <!-- Navigation items -->
        <ul class="nav nav-pills flex-column w-100 px-2">
          <!-- Home link -->
          <li class="nav-item w-100 mb-2">
            <a routerLink="/home" routerLinkActive="active" class="nav-link px-2 py-2 d-flex align-items-center">
              <i class="bi bi-house-door"></i>
              <span class="ms-2" [ngClass]="{'d-none': sidebarCollapsed}">Home</span>
            </a>
          </li>
          <!-- Graphs Management link -->
          <li class="nav-item w-100 mb-2">
            <a routerLink="/graph-manager" routerLinkActive="active" class="nav-link px-2 py-2 d-flex align-items-center">
              <i class="bi bi-diagram-3"></i>
              <span class="ms-2" [ngClass]="{'d-none': sidebarCollapsed}">Manage Graphs</span>
            </a>
          </li>
          <li class="nav-item w-100 mb-2">
            <a routerLink="/view-basic" routerLinkActive="active" class="nav-link px-2 py-2 d-flex align-items-center">
              <i class="bi bi-table"></i>
              <span class="ms-2" [ngClass]="{'d-none': sidebarCollapsed}">Basic View</span>
            </a>
          </li>
          <li class="nav-item w-100 mb-2">
            <a routerLink="/view-fancy" routerLinkActive="active" class="nav-link px-2 py-2 d-flex align-items-center">
              <i class="bi bi-graph-up"></i>
              <span class="ms-2" [ngClass]="{'d-none': sidebarCollapsed}">Graph View</span>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" [ngClass]="{'expanded': sidebarCollapsed}">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
